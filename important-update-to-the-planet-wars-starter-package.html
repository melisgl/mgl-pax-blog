<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
<title>Important Update to the Planet Wars Starter Package</title>
<link type='text/css' href='style.css' rel='stylesheet'/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<script src="jquery.min.js"></script>
<script src="toc.min.js"></script>
<script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {
         inlineMath: [['$','$']],
         processEscapes: true
       }
     });
   </script>
   <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
   </script>
   </head>
<body>
<div id="content-container">
<div id="toc">
<div class="menu-block"><span class="menu-block-title">me</span><ul><li><a href="http://quotenil.com">blog</a></li><li><a href="mailto:mega@retes.hu">email</a></li><li><a href="http://github.com/melisgl/">git</a></li></ul></div><div id="page-toc">
</div>
<div id="toc-footer"><ul><li><a href="https://github.com/melisgl/mgl-pax">[generated by MGL-PAX]</a></li></ul></div>
</div>
<div id="content">
<p><a id='x-28MGL-PAX-BLOG-3A-40IMPORTANT-UPDATE-TO-THE-PLANET-WARS-STARTER-PACKAGE-20MGL-PAX-3ASECTION-29'></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#x-28MGL-PAX-BLOG-3A-40IMPORTANT-UPDATE-TO-THE-PLANET-WARS-STARTER-PACKAGE-20MGL-PAX-3ASECTION-29" title="Important Update to the Planet Wars Starter Package">&#8634;</a></span></span></p>

<h1><a href="#x-28MGL-PAX-BLOG-3A-40IMPORTANT-UPDATE-TO-THE-PLANET-WARS-STARTER-PACKAGE-20MGL-PAX-3ASECTION-29">Important Update to the Planet Wars Starter Package</a></h1>

<p><em>Tags</em>: <a href="category-ai.html#x-28MGL-PAX-BLOG-3A-3A-40CATEGORY-AI-20MGL-PAX-3ASECTION-29" title="AI">AI</a>, <a href="category-lisp.html#x-28MGL-PAX-BLOG-3A-3A-40CATEGORY-LISP-20MGL-PAX-3ASECTION-29" title="Lisp">Lisp</a>, <a href="blog.html#x-28MGL-PAX-BLOG-3A-3A-40BLOG-20MGL-PAX-3ASECTION-29" title="Blog">Blog</a></p>

<p><em>2010-10-25</em> -- First, is it possible to get something as simple
as <code>RESOLVE-BATTLE</code> wrong? Apparently, yes. That's what one gets for
trying to port Python code that's pretty foreign in the sense of
being far from the way I'd write it.</p>

<p>More importantly, I found out the hard way that sbcl 1.0.11 that's
<a href="http://code.google.com/p/ai-contest/issues/detail?id=183" >still</a> on
the official servers has a number of bugs in its timer
implementation making <code>WITH-TIMEOUT</code> unreliable. Also, it can
trigger timeouts recursively eventually exceeding the maximum
interrupt nesting depth. Well, &quot;found out&quot; is not the right way to
put it as we did fix most of these bugs ages ago.</p>

<p>In the new starter package (v0.8 in
<a href="http://quotenil.com/git/?p=planet-wars.git;a=summary" >git</a>, <a href="http://quotenil.com/binary/planet-wars/planet-wars-latest.tar.gz" >latest
tarball</a>),
you'll find timer.lisp that's simply backported almost verbatim from
sbcl 1.0.41 to sbcl 1.0.11. Seems to work for me, but I also had to
lower the timeout to 0.8 from 0.98 because the main server is
extremely slow.</p>

<p>The rate at which games are played on the servers is so low that it
takes several days to ascend through the leaderboard. Nevertheless,
an old buggy version is sitting on the
<a href="http://ai-contest.com/rankings.php" >top</a> right now. Mind you,
introducing bugs is a great way exlopore the solution space and it's
quite worrisome just how adept I am at this poor man's evolutionary
programming. Most of them have since been fixed while the ideas they
brought to light remain, making the current version much
stronger.</p>
  </div>
</div>
<script>$('#page-toc').toc({'selectors': 'h1,h2,h3,h4'});</script>
</body>
</html>
