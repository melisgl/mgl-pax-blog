<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
<title>Important Update to the Planet Wars Starter Package</title>
<link type='text/css' href='style.css' rel='stylesheet'>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width">
   <script src="jquery.min.js"></script>
<script src="toc.min.js"></script>
<script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {
         inlineMath: [['$','$']],
         processEscapes: true
       }
     });
   </script>
   <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
   </script>
   <!-- Google tag (gtag.js) -->
<script async src='https://www.googletagmanager.com/gtag/js?id=G-7X64Q1D73F'></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7X64Q1D73F');
</script>
<link rel='shortcut icon' type='image/png' href='favicon.png'>
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap' rel='stylesheet'>
<style> @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap'); </style>
<link href='https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap' rel='stylesheet'>
<style> @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap'); </style>
<link rel='alternate' href='http://quotenil.com/blog.rss' type='application/rss+xml'/>

</head>
<body>
<div id="content-container">
<div id=toc>
 <div id=home>
  <a href=blog.html>(QUOTE NIL)</a>
 </div>
 <div id=links>
  Ramblings on <a href=ai.html>ai</a>, <a href=lisp.html>lisp</a>, <a
  href=tech.html>tech</a> and <a href=personal.html>personal</a> topics by <a
  href=about-me.html>me</a>.
 </div>
</div><div id="content">
<p><a id="x-28MGL-PAX-BLOG-3A-40IMPORTANT-UPDATE-TO-THE-PLANET-WARS-STARTER-PACKAGE-20MGL-PAX-3ASECTION-29"></a>
<a id="MGL-PAX-BLOG:@IMPORTANT-UPDATE-TO-THE-PLANET-WARS-STARTER-PACKAGE%20MGL-PAX:SECTION"></a></p>

<h1><a href="important-update-to-the-planet-wars-starter-package.html">Important Update to the Planet Wars Starter Package</a></h1>

<p><span class='post-data'></span><em>Tags</em>: <a href="ai.html" title="ai"><code>ai</code></a>, <a href="lisp.html" title="lisp"><code>lisp</code></a>, <em>Date</em>: <code>2010-10-25</code></p>

<p>First, is it possible to get something as simple
as <code>RESOLVE-BATTLE</code> wrong? Apparently, yes. That's what one gets for
trying to port Python code that's pretty foreign in the sense of
being far from the way I'd write it.</p>

<p>More importantly, I found out the hard way that sbcl 1.0.11 that's
<a href="http://code.google.com/p/ai-contest/issues/detail?id=183" >still</a> on
the official servers has a number of bugs in its timer
implementation making <code>WITH-TIMEOUT</code> unreliable. Also, it can
trigger timeouts recursively eventually exceeding the maximum
interrupt nesting depth. Well, &quot;found out&quot; is not the right way to
put it as we did fix most of these bugs ages ago.</p>

<p>In the new starter package (v0.8 in
<a href="http://quotenil.com/git/?p=planet-wars.git;a=summary" >git</a>, <a href="http://quotenil.com/binary/planet-wars/planet-wars-latest.tar.gz" >latest
tarball</a>),
you'll find timer.lisp that's simply backported almost verbatim from
sbcl 1.0.41 to sbcl 1.0.11. Seems to work for me, but I also had to
lower the timeout to 0.8 from 0.98 because the main server is
extremely slow.</p>

<p>The rate at which games are played on the servers is so low that it
takes several days to ascend through the leaderboard. Nevertheless,
an old buggy version is sitting on the
<a href="https://web.archive.org/web/20101025070429/http://ai-contest.com/rankings.php" >top</a> right now. Mind you,
introducing bugs is a great way exlopore the solution space and it's
quite worrisome just how adept I am at this poor man's evolutionary
programming. Most of them have since been fixed while the ideas they
brought to light remain, making the current version much
stronger.</p>
  </div>
</div>
<script>$('#page-toc').toc({'selectors': ''});</script>
</body>
</html>
